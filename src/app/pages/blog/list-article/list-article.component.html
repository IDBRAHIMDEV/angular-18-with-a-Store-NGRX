
<div class="flex flex-row">
    <div class="basis-1/2">
        <h1 class="my-10 text-2xl font-bold text-gray-400">List of articles</h1>
    </div>
    <div class="basis-1/2 content-center text-end">
        <button (click)="openModal()" class="btn btn-sm btn-secondary btn-outline">Add</button>
    </div> 
</div>

@defer () {

    <ul class="grid grid-cols-2 gap-6">
        @for(article of (articles$ | async); track article.id) {
            <app-card-article (openDeleteModalArticle)="openDeleteModal()" (openEditFormArticle)="openEditModal()" [article]="article"></app-card-article>
        }
    </ul>
}
@loading(after 4s) {
  <div class="flex justify-center">
    <span class="loading loading-dots loading-lg"></span>
  </div>
}
@placeholder {
    <div class="flex w-52 flex-col gap-4 justify-start">
        <div class="flex items-center gap-4">
          <div class="skeleton h-16 w-16 shrink-0 rounded-full"></div>
          <div class="flex flex-col gap-4">
            <div class="skeleton h-4 w-20"></div>
            <div class="skeleton h-4 w-28"></div>
          </div>
        </div>
        <div class="skeleton h-32 w-full"></div>
      </div>
}
@error {
    <div class="flex">
        Something went wrong :(
    </div>
}

@defer (on idle) {

    @if(editable) {
        <app-edit-article [isOpen]="isModalOpen" (close)="closeModal()"></app-edit-article>
    }
    @else if(deletable) {
        <app-destroy-article [isOpen]="isModalOpen" (close)="closeModal()"></app-destroy-article>
    }
    @else {
        <app-add-article [isOpen]="isModalOpen" (close)="closeModal()"></app-add-article>
    }
}
